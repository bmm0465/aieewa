(()=>{var e={};e.id=415,e.ids=[415],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},939:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c});var t=a(482),r=a(9108),i=a(2563),n=a.n(i),l=a(8300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let c=["",{children:["evaluate",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,2507)),"C:\\Users\\bmm04\\Dev\\aieewa\\app\\evaluate\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2917)),"C:\\Users\\bmm04\\Dev\\aieewa\\app\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,429)),"C:\\Users\\bmm04\\Dev\\aieewa\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,1429)),"C:\\Users\\bmm04\\Dev\\aieewa\\app\\not-found.tsx"]}],o=["C:\\Users\\bmm04\\Dev\\aieewa\\app\\evaluate\\page.tsx"],m="/evaluate/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/evaluate/page",pathname:"/evaluate",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3152:(e,s,a)=>{Promise.resolve().then(a.bind(a,748))},2482:()=>{},4175:(e,s,a)=>{Promise.resolve().then(a.bind(a,7451)),Promise.resolve().then(a.bind(a,1868))},5522:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,6840,23)),Promise.resolve().then(a.t.bind(a,8771,23)),Promise.resolve().then(a.t.bind(a,3225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,3982,23))},5617:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,1476,23))},748:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>i});var t=a(5344),r=a(3729);function i({error:e,reset:s}){return(0,r.useEffect)(()=>{},[e]),t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"문제가 발생했습니다"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"페이지를 로드하는 중 오류가 발생했습니다."}),t.jsx("button",{onClick:()=>s(),className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"다시 시도"})]})})}},7451:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(5344),r=a(3729),i=a(6212),n=a(1351);let l=r.forwardRef(({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:r,...a}));l.displayName="Input";var d=a(3601),c=a(9224);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,c.Z)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var m=a(2739);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),u=(0,c.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);function h(){let[e,s]=(0,r.useState)([]),[a,c]=(0,r.useState)(""),[h,p]=(0,r.useState)(null),[b,f]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[j,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[_,k]=(0,r.useState)(""),[A,P]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/questions"),a=await e.json();e.ok&&s(a.questions)}catch(e){}})()},[]),(0,r.useEffect)(()=>{a&&(async()=>{try{let e=await fetch(`/api/questions?id=${a}`),s=await e.json();e.ok&&p(s.question)}catch(e){}})()},[a]);let C=async()=>{if(!a||!b.trim()||!g.trim()){k("모든 필드를 입력해주세요.");return}y(!0),k("");try{let e=await fetch(A?"/api/evaluate-answer-aas":"/api/evaluate-answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:a,studentName:b.trim(),answer:g.trim()})}),s=await e.json();if(!e.ok)throw Error(s.error||"답안 평가에 실패했습니다.");w(s.evaluation)}catch(e){k(e instanceof Error?e.message:"답안 평가에 실패했습니다.")}finally{y(!1)}},q=(e,s=2)=>{let a=e/s*100;return a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(o,{className:"h-5 w-5"}),"학생 답안 평가"]}),t.jsx(n.SZ,{children:"AI를 활용하여 학생의 서술형 답안을 자동 평가하고 피드백을 제공합니다."})]}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"question",className:"block text-sm font-medium mb-2",children:"평가 문항 선택"}),(0,t.jsxs)("select",{id:"question",value:a,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded-md",children:[t.jsx("option",{value:"",children:"문항을 선택해주세요"}),e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.unit_grade," - ",e.question.substring(0,50),"..."]},e.id))]})]}),h&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"선택된 문항"}),t.jsx("p",{className:"text-sm text-gray-700",children:h.question})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"studentName",className:"block text-sm font-medium mb-2",children:"학생 이름"}),t.jsx(l,{id:"studentName",placeholder:"학생 이름을 입력하세요",value:b,onChange:e=>f(e.target.value)})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium mb-2",children:"학생 답안"}),t.jsx(d.g,{id:"answer",placeholder:"학생의 답안을 입력하세요",value:g,onChange:e=>v(e.target.value),rows:8})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",id:"useAAS",checked:A,onChange:e=>P(e.target.checked),className:"rounded"}),t.jsx("label",{htmlFor:"useAAS",className:"text-sm font-medium",children:"AAS (Automated Answer Scoring) 사용 - 더 상세한 채점 근거와 피드백 제공"})]}),_&&t.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:_}),t.jsx(i.z,{onClick:C,disabled:j||!a||!b.trim()||!g.trim(),className:"w-full",children:j?(0,t.jsxs)(t.Fragment,{children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"평가 중..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(o,{className:"mr-2 h-4 w-4"}),"답안 평가하기"]})})]})]}),h&&(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:t.jsx(n.ll,{children:"문항 상세 정보"})}),(0,t.jsxs)(n.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"단원/학년"}),t.jsx("p",{children:h.unit_grade})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"예시문"}),t.jsx("div",{className:"bg-blue-50 p-4 rounded-md whitespace-pre-wrap",children:h.example_text})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"조건"}),t.jsx("div",{className:"bg-yellow-50 p-4 rounded-md whitespace-pre-wrap",children:h.conditions})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"모범 답안 1"}),t.jsx("div",{className:"bg-green-50 p-4 rounded-md whitespace-pre-wrap",children:h.model_answer_1})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-2",children:"모범 답안 2"}),t.jsx("div",{className:"bg-green-50 p-4 rounded-md whitespace-pre-wrap",children:h.model_answer_2})]})]})]})]}),N&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(x,{className:"h-5 w-5"}),"평가 결과: ",b]})}),t.jsx(n.aY,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"분석적 채점 결과"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"과제수행 (내용의 적절성)"}),(0,t.jsxs)("span",{className:`font-bold ${q(N.analytical_score_1)}`,children:[N.analytical_score_1,"/2"]})]}),N.analytical_reasoning_1&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_1]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"구성 (응집성 및 일관성)"}),(0,t.jsxs)("span",{className:`font-bold ${q(N.analytical_score_2)}`,children:[N.analytical_score_2,"/2"]})]}),N.analytical_reasoning_2&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_2]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium",children:"언어사용 (어휘 및 어법)"}),(0,t.jsxs)("span",{className:`font-bold ${q(N.analytical_score_3)}`,children:[N.analytical_score_3,"/2"]})]}),N.analytical_reasoning_3&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_3]})]}),t.jsx("div",{className:"border-t pt-3",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"font-semibold",children:"총점"}),(0,t.jsxs)("span",{className:`font-bold text-lg ${q(N.total_score,6)}`,children:[N.total_score,"/6"]})]})})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"총체적 평가"}),(0,t.jsxs)("div",{className:`p-4 rounded-md text-center font-bold text-lg ${(e=>{switch(e){case"A":return"text-green-600 bg-green-50";case"B":return"text-yellow-600 bg-yellow-50";case"C":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(N.holistic_score)}`,children:[N.holistic_score," 수준"]})]})]})})]}),(0,t.jsxs)(n.Zb,{children:[t.jsx(n.Ol,{children:(0,t.jsxs)(n.ll,{className:"flex items-center gap-2",children:[t.jsx(u,{className:"h-5 w-5"}),"AI 피드백"]})}),t.jsx(n.aY,{children:t.jsx("div",{className:"bg-blue-50 p-6 rounded-md whitespace-pre-wrap",children:N.ai_feedback})})]})]})]})}},6212:(e,s,a)=>{"use strict";a.d(s,{z:()=>d});var t=a(5344),r=a(3729),i=a(9247),n=a(1626);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:s,size:a,...r},i)=>t.jsx("button",{className:(0,n.cn)(l({variant:s,size:a}),e),ref:i,...r}));d.displayName="Button"},1351:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>l,SZ:()=>c,Zb:()=>n,aY:()=>o,ll:()=>d});var t=a(5344),r=a(3729),i=a(1626);let n=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:`flex flex-col space-y-1.5 p-6 ${e||""}`,...s}));l.displayName="CardHeader";let d=r.forwardRef(({className:e,...s},a)=>t.jsx("h3",{ref:a,className:`text-2xl font-semibold leading-none tracking-tight ${e||""}`,...s}));d.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},a)=>t.jsx("p",{ref:a,className:`text-sm text-muted-foreground ${e||""}`,...s}));c.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:`p-6 pt-0 ${e||""}`,...s}));o.displayName="CardContent",r.forwardRef(({className:e,...s},a)=>t.jsx("div",{ref:a,className:`flex items-center p-6 pt-0 ${e||""}`,...s})).displayName="CardFooter"},3601:(e,s,a)=>{"use strict";a.d(s,{g:()=>r});var t=a(5344);let r=a(3729).forwardRef(({className:e,...s},a)=>t.jsx("textarea",{className:`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e||""}`,ref:a,...s}));r.displayName="Textarea"},1626:(e,s,a)=>{"use strict";a.d(s,{cn:()=>i});var t=a(6815),r=a(9377);function i(...e){return(0,r.m6)((0,t.W)(e))}},429:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>r,default:()=>n});let t=(0,a(6843).createProxy)(String.raw`C:\Users\bmm04\Dev\aieewa\app\error.tsx`),{__esModule:r,$$typeof:i}=t,n=t.default},2507:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(5036),r=a(5984);let i=a.n(r)()(()=>a.e(802).then(a.bind(a,2802)),{loadableGenerated:{modules:["C:\\Users\\bmm04\\Dev\\aieewa\\app\\evaluate\\page.tsx -> @/components/AnswerEvaluator"]},loading:()=>t.jsx("div",{className:"max-w-6xl mx-auto p-6",children:(0,t.jsxs)("div",{className:"text-center py-8 text-gray-600",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),"답안 평가 컴포넌트 로딩 중..."]})})});function n(){return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("nav",{className:"bg-white border-b shadow-sm",children:t.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("a",{href:"/",className:"text-lg font-bold text-blue-600 hover:text-blue-700",children:"AIEEWA"}),t.jsx("div",{className:"flex gap-2",children:t.jsx("span",{className:"px-3 py-1 text-sm bg-green-600 text-white rounded",children:"답안 평가"})})]})})})}),t.jsx("div",{className:"py-6",children:t.jsx(i,{})})]})}},2917:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n,metadata:()=>r,viewport:()=>i});var t=a(5036);a(7272);let r={title:"AIEEWA - 초등 영어 서술형 평가 시스템",description:"LLM 기반 초등 영어 서술형 평가 문항 생성 및 자동 채점 시스템",keywords:["AI","교육","영어","서술형","평가","LLM","GPT"],authors:[{name:"AIEEWA Team"}],creator:"AIEEWA",publisher:"AIEEWA",formatDetection:{email:!1,address:!1,telephone:!1},icons:{icon:"/favicon.ico",shortcut:"/favicon.ico",apple:"/favicon.ico"}},i={width:"device-width",initialScale:1};function n({children:e}){return t.jsx("html",{lang:"ko",children:t.jsx("body",{className:"min-h-screen bg-gray-50 font-sans antialiased",children:e})})}},1429:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(5036),r=a(646),i=a.n(r);function n(){return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"404 - 페이지를 찾을 수 없습니다"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"요청하신 페이지가 존재하지 않습니다."}),t.jsx(i(),{href:"/",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"홈으로 돌아가기"})]})})}},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[638,0,559],()=>a(939));module.exports=t})();