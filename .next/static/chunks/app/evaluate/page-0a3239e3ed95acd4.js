(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{5547:function(e,s,a){Promise.resolve().then(a.bind(a,4604)),Promise.resolve().then(a.bind(a,6005))},4604:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return h}});var t=a(7437),r=a(2265),n=a(5754),l=a(7815);let i=r.forwardRef((e,s)=>{let{className:a,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(a||""),ref:s,...n})});i.displayName="Input";var c=a(3444),d=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);var m=a(6264);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),x=(0,d.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);function h(){let[e,s]=(0,r.useState)([]),[a,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(null),[p,b]=(0,r.useState)(""),[g,j]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[N,w]=(0,r.useState)(null),[_,k]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/questions"),a=await e.json();e.ok&&s(a.questions)}catch(e){}})()},[]),(0,r.useEffect)(()=>{a&&(async()=>{try{let e=await fetch("/api/questions?id=".concat(a)),s=await e.json();e.ok&&f(s.question)}catch(e){}})()},[a]);let A=async()=>{if(!a||!p.trim()||!g.trim()){k("모든 필드를 입력해주세요.");return}y(!0),k("");try{let e=await fetch(S?"/api/evaluate-answer-aas":"/api/evaluate-answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:a,studentName:p.trim(),answer:g.trim()})}),s=await e.json();if(!e.ok)throw Error(s.error||"답안 평가에 실패했습니다.");w(s.evaluation)}catch(e){k(e instanceof Error?e.message:"답안 평가에 실패했습니다.")}finally{y(!1)}},Z=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e/s*100;return a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{className:"h-5 w-5"}),"학생 답안 평가"]}),(0,t.jsx)(l.SZ,{children:"AI를 활용하여 학생의 서술형 답안을 자동 평가하고 피드백을 제공합니다."})]}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"question",className:"block text-sm font-medium mb-2",children:"평가 문항 선택"}),(0,t.jsxs)("select",{id:"question",value:a,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded-md",children:[(0,t.jsx)("option",{value:"",children:"문항을 선택해주세요"}),e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.unit_grade," - ",e.question.substring(0,50),"..."]},e.id))]})]}),h&&(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"선택된 문항"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:h.question})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"studentName",className:"block text-sm font-medium mb-2",children:"학생 이름"}),(0,t.jsx)(i,{id:"studentName",placeholder:"학생 이름을 입력하세요",value:p,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"answer",className:"block text-sm font-medium mb-2",children:"학생 답안"}),(0,t.jsx)(c.g,{id:"answer",placeholder:"학생의 답안을 입력하세요",value:g,onChange:e=>j(e.target.value),rows:8})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"useAAS",checked:S,onChange:e=>C(e.target.checked),className:"rounded"}),(0,t.jsx)("label",{htmlFor:"useAAS",className:"text-sm font-medium",children:"AAS (Automated Answer Scoring) 사용 - 더 상세한 채점 근거와 피드백 제공"})]}),_&&(0,t.jsx)("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:_}),(0,t.jsx)(n.z,{onClick:A,disabled:v||!a||!p.trim()||!g.trim(),className:"w-full",children:v?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"평가 중..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o,{className:"mr-2 h-4 w-4"}),"답안 평가하기"]})})]})]}),h&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"문항 상세 정보"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"단원/학년"}),(0,t.jsx)("p",{children:h.unit_grade})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"예시문"}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-md whitespace-pre-wrap",children:h.example_text})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"조건"}),(0,t.jsx)("div",{className:"bg-yellow-50 p-4 rounded-md whitespace-pre-wrap",children:h.conditions})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"모범 답안 1"}),(0,t.jsx)("div",{className:"bg-green-50 p-4 rounded-md whitespace-pre-wrap",children:h.model_answer_1})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"모범 답안 2"}),(0,t.jsx)("div",{className:"bg-green-50 p-4 rounded-md whitespace-pre-wrap",children:h.model_answer_2})]})]})]})]}),N&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-5 w-5"}),"평가 결과: ",p]})}),(0,t.jsx)(l.aY,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-4",children:"분석적 채점 결과"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"과제수행 (내용의 적절성)"}),(0,t.jsxs)("span",{className:"font-bold ".concat(Z(N.analytical_score_1)),children:[N.analytical_score_1,"/2"]})]}),N.analytical_reasoning_1&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_1]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"구성 (응집성 및 일관성)"}),(0,t.jsxs)("span",{className:"font-bold ".concat(Z(N.analytical_score_2)),children:[N.analytical_score_2,"/2"]})]}),N.analytical_reasoning_2&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_2]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"언어사용 (어휘 및 어법)"}),(0,t.jsxs)("span",{className:"font-bold ".concat(Z(N.analytical_score_3)),children:[N.analytical_score_3,"/2"]})]}),N.analytical_reasoning_3&&(0,t.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:["근거: ",N.analytical_reasoning_3]})]}),(0,t.jsx)("div",{className:"border-t pt-3",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"font-semibold",children:"총점"}),(0,t.jsxs)("span",{className:"font-bold text-lg ".concat(Z(N.total_score,6)),children:[N.total_score,"/6"]})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-4",children:"총체적 평가"}),(0,t.jsxs)("div",{className:"p-4 rounded-md text-center font-bold text-lg ".concat((e=>{switch(e){case"A":return"text-green-600 bg-green-50";case"B":return"text-yellow-600 bg-yellow-50";case"C":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}})(N.holistic_score)),children:[N.holistic_score," 수준"]})]})]})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[(0,t.jsx)(x,{className:"h-5 w-5"}),"AI 피드백"]})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"bg-blue-50 p-6 rounded-md whitespace-pre-wrap",children:N.ai_feedback})})]})]})]})}},5754:function(e,s,a){"use strict";a.d(s,{z:function(){return c}});var t=a(7437),r=a(2265),n=a(6061),l=a(1657);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:a,variant:r,size:n,...c}=e;return(0,t.jsx)("button",{className:(0,l.cn)(i({variant:r,size:n}),a),ref:s,...c})});c.displayName="Button"},7815:function(e,s,a){"use strict";a.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var t=a(7437),r=a(2265),n=a(1657);let l=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:"flex flex-col space-y-1.5 p-6 ".concat(a||""),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h3",{ref:s,className:"text-2xl font-semibold leading-none tracking-tight ".concat(a||""),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("p",{ref:s,className:"text-sm text-muted-foreground ".concat(a||""),...r})});d.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:"p-6 pt-0 ".concat(a||""),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:"flex items-center p-6 pt-0 ".concat(a||""),...r})}).displayName="CardFooter"},3444:function(e,s,a){"use strict";a.d(s,{g:function(){return r}});var t=a(7437);let r=a(2265).forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ".concat(a||""),ref:s,...r})});r.displayName="Textarea"},1657:function(e,s,a){"use strict";a.d(s,{cn:function(){return n}});var t=a(7042),r=a(4769);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.m6)((0,t.W)(s))}}},function(e){e.O(0,[557,971,938,744],function(){return e(e.s=5547)}),_N_E=e.O()}]);