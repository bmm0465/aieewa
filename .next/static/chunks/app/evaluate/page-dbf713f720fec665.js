(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{6643:function(e,r,o){Promise.resolve().then(o.bind(o,9002)),Promise.resolve().then(o.bind(o,6005))},9002:function(e,r,o){"use strict";o.r(r),o.d(r,{default:function(){return n}});var t=o(7437),i=o(2265);function n(){let[e,r]=(0,i.useState)([]),[o,n]=(0,i.useState)(""),[l,s]=(0,i.useState)(null),[d,a]=(0,i.useState)(""),[c,m]=(0,i.useState)(""),[f,g]=(0,i.useState)(!1),[h,p]=(0,i.useState)(null),[b,x]=(0,i.useState)(""),[u,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/questions"),o=await e.json();e.ok&&r(o.questions)}catch(e){console.error("문항 목록 로드 오류:",e)}})()},[]),(0,i.useEffect)(()=>{o&&(async()=>{try{let e=await fetch("/api/questions?id=".concat(o)),r=await e.json();e.ok&&s(r.question)}catch(e){console.error("문항 정보 로드 오류:",e)}})()},[o]);let j=async()=>{if(!o||!d.trim()||!c.trim()){x("모든 필드를 입력해주세요.");return}g(!0),x("");try{console.log("답안 평가 요청 시작:",{selectedQuestionId:o,studentName:d,answer:c});let e=await fetch(u?"/api/evaluate-answer-aas":"/api/evaluate-answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({questionId:o,studentName:d.trim(),answer:c.trim()})});console.log("API 응답 상태:",e.status);let r=await e.json();if(console.log("API 응답 데이터:",r),!e.ok)throw Error(r.error||"답안 평가에 실패했습니다.");if(r.evaluation)p(r.evaluation);else throw Error("응답 데이터 형식이 올바르지 않습니다.")}catch(e){console.error("답안 평가 오류:",e),x(e instanceof Error?e.message:"답안 평가에 실패했습니다.")}finally{g(!1)}},v=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,o=e/r*100;return o>=80?{color:"#059669",bg:"#f0fdf4"}:o>=60?{color:"#d97706",bg:"#fefce8"}:{color:"#dc2626",bg:"#fef2f2"}},S=e=>{switch(e){case"A":return{color:"#059669",bg:"#f0fdf4"};case"B":return{color:"#d97706",bg:"#fefce8"};case"C":return{color:"#dc2626",bg:"#fef2f2"};default:return{color:"#6b7280",bg:"#f9fafb"}}};return(0,t.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,t.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem",background:"linear-gradient(135deg, #10b981, #059669)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"✅"}),(0,t.jsx)("h1",{style:{fontSize:"1.875rem",fontWeight:"700",color:"#1e293b",margin:0},children:"학생 답안 평가"})]}),(0,t.jsx)("p",{style:{color:"#64748b",fontSize:"1.1rem",lineHeight:"1.6"},children:"AI를 활용하여 학생의 서술형 답안을 자동 평가하고 피드백을 제공합니다."})]}),(0,t.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:"평가 문항 선택"}),(0,t.jsxs)("select",{value:o,onChange:e=>n(e.target.value),style:{width:"100%",padding:"0.875rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box",backgroundColor:"white"},onFocus:e=>{e.target.style.borderColor="#3b82f6"},onBlur:e=>{e.target.style.borderColor="#e5e7eb"},children:[(0,t.jsx)("option",{value:"",children:"문항을 선택해주세요"}),e.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.unit_grade," - ",e.question.substring(0,50),"..."]},e.id))]})]}),l&&(0,t.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e2e8f0",marginBottom:"1.5rem"},children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"선택된 문항"}),(0,t.jsx)("p",{style:{fontSize:"0.875rem",color:"#64748b",lineHeight:"1.5"},children:l.question})]}),(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:"학생 이름"}),(0,t.jsx)("input",{type:"text",placeholder:"학생 이름을 입력하세요",value:d,onChange:e=>a(e.target.value),style:{width:"100%",padding:"0.875rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontFamily:"inherit",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor="#3b82f6"},onBlur:e=>{e.target.style.borderColor="#e5e7eb"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:"학생 답안"}),(0,t.jsx)("textarea",{placeholder:"학생의 답안을 입력하세요",value:c,onChange:e=>m(e.target.value),rows:8,style:{width:"100%",padding:"0.875rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor="#3b82f6"},onBlur:e=>{e.target.style.borderColor="#e5e7eb"}})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",padding:"1rem",backgroundColor:"#f8fafc",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:[(0,t.jsx)("input",{type:"checkbox",id:"useAAS",checked:u,onChange:e=>y(e.target.checked),style:{width:"1rem",height:"1rem",accentColor:"#3b82f6"}}),(0,t.jsx)("label",{htmlFor:"useAAS",style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"AAS (Automated Answer Scoring) 사용 - 더 상세한 채점 근거와 피드백 제공"})]}),b&&(0,t.jsx)("div",{style:{color:"#dc2626",fontSize:"0.875rem",backgroundColor:"#fef2f2",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca",marginBottom:"1rem"},children:b}),(0,t.jsx)("button",{onClick:j,disabled:f||!o||!d.trim()||!c.trim(),style:{width:"100%",padding:"0.875rem 1.5rem",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:!f&&o&&d.trim()&&c.trim()?"pointer":"not-allowed",background:!f&&o&&d.trim()&&c.trim()?"linear-gradient(135deg, #10b981, #059669)":"#9ca3af",color:"white",boxShadow:!f&&o&&d.trim()&&c.trim()?"0 4px 12px rgba(16, 185, 129, 0.3)":"none",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{width:"1rem",height:"1rem",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"평가 중..."]}):"답안 평가하기"})]}),l&&(0,t.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDCCB"}),(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:"문항 상세 정보"})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"단원/학년"}),(0,t.jsx)("p",{style:{color:"#64748b"},children:l.unit_grade})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"예시문"}),(0,t.jsx)("div",{style:{backgroundColor:"#eff6ff",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bfdbfe",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.example_text})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"조건"}),(0,t.jsx)("div",{style:{backgroundColor:"#fefce8",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #fed7aa",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.conditions})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"모범 답안 1"}),(0,t.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.model_answer_1})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"모범 답안 2"}),(0,t.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:l.model_answer_2})]})]})]}),h&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDC64"}),(0,t.jsxs)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:["평가 결과: ",d]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"2rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"분석적 채점 결과"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"과제수행 (내용의 적절성)"}),(0,t.jsxs)("span",{style:{fontWeight:"700",color:v(h.analytical_score_1).color},children:[h.analytical_score_1,"/2"]})]}),h.analytical_reasoning_1&&(0,t.jsxs)("div",{style:{fontSize:"0.75rem",color:"#64748b",backgroundColor:"#f9fafb",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #e5e7eb"},children:["근거: ",h.analytical_reasoning_1]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"구성 (응집성 및 일관성)"}),(0,t.jsxs)("span",{style:{fontWeight:"700",color:v(h.analytical_score_2).color},children:[h.analytical_score_2,"/2"]})]}),h.analytical_reasoning_2&&(0,t.jsxs)("div",{style:{fontSize:"0.75rem",color:"#64748b",backgroundColor:"#f9fafb",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #e5e7eb"},children:["근거: ",h.analytical_reasoning_2]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,t.jsx)("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151"},children:"언어사용 (어휘 및 어법)"}),(0,t.jsxs)("span",{style:{fontWeight:"700",color:v(h.analytical_score_3).color},children:[h.analytical_score_3,"/2"]})]}),h.analytical_reasoning_3&&(0,t.jsxs)("div",{style:{fontSize:"0.75rem",color:"#64748b",backgroundColor:"#f9fafb",padding:"0.5rem",borderRadius:"0.25rem",border:"1px solid #e5e7eb"},children:["근거: ",h.analytical_reasoning_3]})]}),(0,t.jsx)("div",{style:{borderTop:"2px solid #e5e7eb",paddingTop:"1rem",marginTop:"0.5rem"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151"},children:"총점"}),(0,t.jsxs)("span",{style:{fontWeight:"700",fontSize:"1.25rem",color:v(h.total_score,6).color},children:[h.total_score,"/6"]})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"총체적 평가"}),(0,t.jsxs)("div",{style:{padding:"2rem",borderRadius:"0.5rem",textAlign:"center",fontWeight:"700",fontSize:"1.5rem",color:S(h.holistic_score).color,backgroundColor:S(h.holistic_score).bg,border:"2px solid ".concat(S(h.holistic_score).color,"20")},children:[h.holistic_score," 수준"]})]})]})]}),(0,t.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,t.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDCAC"}),(0,t.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:"AI 피드백"})]}),(0,t.jsx)("div",{style:{backgroundColor:"#eff6ff",padding:"1.5rem",borderRadius:"0.5rem",border:"1px solid #bfdbfe",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:h.ai_feedback})]})]})]})}},6005:function(e,r,o){"use strict";function t(e){let{children:r}=e;return r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NoSSR",{enumerable:!0,get:function(){return t}}),o(6491)},622:function(e,r,o){"use strict";var t=o(2265),i=Symbol.for("react.element"),n=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,o){var t,n={},a=null,c=null;for(t in void 0!==o&&(a=""+o),void 0!==r.key&&(a=""+r.key),void 0!==r.ref&&(c=r.ref),r)l.call(r,t)&&!d.hasOwnProperty(t)&&(n[t]=r[t]);if(e&&e.defaultProps)for(t in r=e.defaultProps)void 0===n[t]&&(n[t]=r[t]);return{$$typeof:i,type:e,key:a,ref:c,props:n,_owner:s.current}}r.Fragment=n,r.jsx=a,r.jsxs=a},7437:function(e,r,o){"use strict";e.exports=o(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=6643)}),_N_E=e.O()}]);