(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[811],{6355:function(e,r,i){Promise.resolve().then(i.bind(i,5432)),Promise.resolve().then(i.bind(i,6005))},5432:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return n}});var o=i(7437),t=i(2265);function n(){let[e,r]=(0,t.useState)(""),[i,n]=(0,t.useState)(!1),[d,l]=(0,t.useState)(null),[s,a]=(0,t.useState)(""),[m,c]=(0,t.useState)([]),[f,h]=(0,t.useState)(!1),g=(0,t.useRef)(null),p=async e=>{var r;let i=null===(r=e.target.files)||void 0===r?void 0:r[0];if(i){if("application/pdf"!==i.type){a("PDF 파일만 업로드할 수 있습니다.");return}if(i.size>10485760){a("파일 크기는 10MB를 초과할 수 없습니다.");return}h(!0),a("");try{let e=new FormData;e.append("file",i);let r=await fetch("/api/upload-document",{method:"POST",body:e}),o=await r.json();if(!r.ok)throw Error(o.error||"파일 업로드에 실패했습니다.");c(e=>[...e,i.name]),console.log("파일 업로드 성공:",o)}catch(e){console.error("파일 업로드 오류:",e),a(e instanceof Error?e.message:"파일 업로드에 실패했습니다.")}finally{h(!1),g.current&&(g.current.value="")}}},x=async()=>{if(!e.trim()){a("문항 생성 요청을 입력해주세요.");return}n(!0),a("");try{console.log("문항 생성 요청 시작:",e);let t=await fetch("/api/generate-question",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:e})});console.log("API 응답 상태:",t.status);let n=await t.json();if(console.log("API 응답 데이터:",n),!t.ok){let e=n.error||"문항 생성에 실패했습니다.";if(500===t.status){var r,i,o;(null===(r=n.error)||void 0===r?void 0:r.includes("API 키"))?e="AI 서비스 설정에 문제가 있습니다. 관리자에게 문의해주세요.":(null===(i=n.error)||void 0===i?void 0:i.includes("네트워크"))?e="네트워크 연결에 문제가 있습니다. 인터넷 연결을 확인해주세요.":(null===(o=n.error)||void 0===o?void 0:o.includes("시간"))&&(e="요청 시간이 초과되었습니다. 다시 시도해주세요.")}throw Error(e)}if(n.success&&n.question)l(n.question),n.warning&&console.warn("데이터베이스 저장 경고:",n.warning);else if(n.success&&!n.question)throw Error("문항이 생성되었지만 데이터를 가져올 수 없습니다.");else throw Error("응답 데이터 형식이 올바르지 않습니다.")}catch(r){console.error("문항 생성 오류:",r);let e="문항 생성에 실패했습니다.";r instanceof Error&&(e=r.message,(r.message.includes("Failed to fetch")||r.message.includes("NetworkError"))&&(e="서버와의 연결에 실패했습니다. 인터넷 연결을 확인하고 다시 시도해주세요.")),a(e)}finally{n(!1)}};return(0,o.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,o.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem",background:"linear-gradient(135deg, #3b82f6, #1d4ed8)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"\uD83D\uDCDD"}),(0,o.jsx)("h1",{style:{fontSize:"1.875rem",fontWeight:"700",color:"#1e293b",margin:0},children:"영어 서술형 평가 문항 생성"})]}),(0,o.jsx)("p",{style:{color:"#64748b",fontSize:"1.1rem",lineHeight:"1.6"},children:"AI를 활용하여 초등 영어 서술형 평가 문항과 채점 기준을 생성합니다."})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:"참고 문서 업로드 (선택사항)"}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("input",{ref:g,type:"file",accept:".pdf",onChange:p,disabled:f,style:{display:"none"}}),(0,o.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},disabled:f,style:{padding:"0.75rem 1rem",border:"2px dashed #3b82f6",borderRadius:"0.5rem",backgroundColor:f?"#f3f4f6":"#f8faff",color:"#3b82f6",fontSize:"0.875rem",fontWeight:"500",cursor:f?"not-allowed":"pointer",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s ease"},children:f?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{width:"1rem",height:"1rem",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"업로드 중..."]}):(0,o.jsx)(o.Fragment,{children:"\uD83D\uDCC4 PDF 파일 선택하기"})}),(0,o.jsx)("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.5rem",textAlign:"center"},children:"교과서나 평가 문항 PDF를 업로드하면 더 정확한 문항 생성이 가능합니다. (최대 10MB)"})]}),m.length>0&&(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("p",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"업로드된 파일:"}),(0,o.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:m.map((e,r)=>(0,o.jsxs)("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#e0f2fe",color:"#0369a1",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"500"},children:["\uD83D\uDCC4 ",e]},r))})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.75rem"},children:"문항 생성 요청"}),(0,o.jsx)("textarea",{placeholder:"예: 5학년 9단원 My Favorite Subject Is Science 영어 서술형 평가 문항과 채점 기준을 생성해줘.",value:e,onChange:e=>r(e.target.value),rows:4,style:{width:"100%",padding:"0.875rem",border:"2px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"border-color 0.2s ease",boxSizing:"border-box"},onFocus:e=>{e.target.style.borderColor="#3b82f6"},onBlur:e=>{e.target.style.borderColor="#e5e7eb"}})]}),s&&(0,o.jsx)("div",{style:{color:"#dc2626",fontSize:"0.875rem",backgroundColor:"#fef2f2",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca",marginBottom:"1rem"},children:s}),(0,o.jsx)("button",{onClick:x,disabled:i||!e.trim(),style:{width:"100%",padding:"0.875rem 1.5rem",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:i||!e.trim()?"not-allowed":"pointer",background:i||!e.trim()?"#9ca3af":"linear-gradient(135deg, #3b82f6, #1d4ed8)",color:"white",boxShadow:i||!e.trim()?"none":"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"all 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{width:"1rem",height:"1rem",border:"2px solid transparent",borderTop:"2px solid currentColor",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"문항 생성 중..."]}):"문항 생성하기"})]}),d&&(0,o.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDCCB"}),(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:"생성된 평가 문항"})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"단원 및 학년"}),(0,o.jsx)("div",{style:{backgroundColor:"#f1f5f9",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},children:d.단원_및_학년})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"예시문"}),(0,o.jsx)("div",{style:{backgroundColor:"#f8fafc",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e2e8f0",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.예시문})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"평가 문항"}),(0,o.jsx)("div",{style:{backgroundColor:"#eff6ff",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bfdbfe",lineHeight:"1.6"},children:d.평가문항})]}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"조건"}),(0,o.jsx)("div",{style:{backgroundColor:"#fefce8",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #fed7aa",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.조건})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"모범 답안 1"}),(0,o.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.모범_답안_1})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"모범 답안 2"}),(0,o.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.모범_답안_2})]})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDCCA"}),(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:"분석적 채점 기준"})]}),(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"1. 과제수행: 내용의 적절성 및 완성도"}),(0,o.jsx)("div",{style:{backgroundColor:"#faf5ff",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e9d5ff",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.분석적_채점_기준_1})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"2. 구성: 응집성 및 일관성"}),(0,o.jsx)("div",{style:{backgroundColor:"#faf5ff",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e9d5ff",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.분석적_채점_기준_2})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"3. 언어사용: 어휘 및 어법의 정확성"}),(0,o.jsx)("div",{style:{backgroundColor:"#faf5ff",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #e9d5ff",whiteSpace:"pre-wrap",lineHeight:"1.6"},children:d.분석적_채점_기준_3})]})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0",marginBottom:"2rem"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e5e7eb"},children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83C\uDFAF"}),(0,o.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",margin:0},children:"총체적 채점 기준"})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#059669",marginBottom:"0.5rem"},children:"A 수준"}),(0,o.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"0.875rem"},children:d.총체적_채점_기준_A})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#d97706",marginBottom:"0.5rem"},children:"B 수준"}),(0,o.jsx)("div",{style:{backgroundColor:"#fefce8",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #fed7aa",whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"0.875rem"},children:d.총체적_채점_기준_B})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#dc2626",marginBottom:"0.5rem"},children:"C 수준"}),(0,o.jsx)("div",{style:{backgroundColor:"#fef2f2",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #fecaca",whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"0.875rem"},children:d.총체적_채점_기준_C})]})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"2rem",borderRadius:"1rem",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",border:"1px solid #e2e8f0"},children:[(0,o.jsxs)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1e293b",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,o.jsx)("div",{style:{fontSize:"1.5rem"},children:"\uD83D\uDCA1"}),"성취수준별 예시 및 피드백"]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#059669",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#f0fdf4",borderRadius:"0.5rem"},children:"A 수준"}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"예시 답안"}),(0,o.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_예시_답안_A})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"피드백"}),(0,o.jsx)("div",{style:{backgroundColor:"#f0fdf4",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #bbf7d0",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_평가에_따른_예시_피드백_A})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#d97706",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fefce8",borderRadius:"0.5rem"},children:"B 수준"}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"예시 답안"}),(0,o.jsx)("div",{style:{backgroundColor:"#fefce8",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fed7aa",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_예시_답안_B})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"피드백"}),(0,o.jsx)("div",{style:{backgroundColor:"#fefce8",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fed7aa",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_평가에_따른_예시_피드백_B})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#dc2626",marginBottom:"1rem",padding:"0.5rem",backgroundColor:"#fef2f2",borderRadius:"0.5rem"},children:"C 수준"}),(0,o.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"예시 답안"}),(0,o.jsx)("div",{style:{backgroundColor:"#fef2f2",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_예시_답안_C})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h5",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"피드백"}),(0,o.jsx)("div",{style:{backgroundColor:"#fef2f2",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #fecaca",whiteSpace:"pre-wrap",lineHeight:"1.5",fontSize:"0.875rem"},children:d.성취수준별_평가에_따른_예시_피드백_C})]})]})]})]})]})]})}},6005:function(e,r,i){"use strict";function o(e){let{children:r}=e;return r}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NoSSR",{enumerable:!0,get:function(){return o}}),i(6491)},622:function(e,r,i){"use strict";var o=i(2265),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(e,r,i){var o,n={},a=null,m=null;for(o in void 0!==i&&(a=""+i),void 0!==r.key&&(a=""+r.key),void 0!==r.ref&&(m=r.ref),r)d.call(r,o)&&!s.hasOwnProperty(o)&&(n[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===n[o]&&(n[o]=r[o]);return{$$typeof:t,type:e,key:a,ref:m,props:n,_owner:l.current}}r.Fragment=n,r.jsx=a,r.jsxs=a},7437:function(e,r,i){"use strict";e.exports=i(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=6355)}),_N_E=e.O()}]);